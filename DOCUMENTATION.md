# Documentation Guide

This project includes **auto-generated API documentation** for both the OCaml and Python implementations, built from the extensive inline comments and docstrings.

## üöÄ Quick Start

### Generate All Documentation

```bash
# Generate both OCaml and Python docs in one command
./generate_all_docs.sh
```

Then open `docs/index.html` in your browser!

### View Documentation

**Option 1: Open directly**
```bash
open docs/index.html  # macOS
xdg-open docs/index.html  # Linux
start docs/index.html  # Windows
```

**Option 2: Run local server**
```bash
python -m http.server 8000 --directory docs
# Then visit: http://localhost:8000
```

## üìö Documentation Structure

```
docs/
‚îú‚îÄ‚îÄ index.html          # Main documentation portal
‚îú‚îÄ‚îÄ ocaml/              # OCaml API documentation (generated by ocamldoc)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ Cli.html
‚îÇ   ‚îú‚îÄ‚îÄ Grammar.html
‚îÇ   ‚îú‚îÄ‚îÄ FirstFollow.html
‚îÇ   ‚îú‚îÄ‚îÄ Ll1.html
‚îÇ   ‚îú‚îÄ‚îÄ Slr1.html
‚îÇ   ‚îî‚îÄ‚îÄ Utils.html
‚îî‚îÄ‚îÄ python/             # Python API documentation (generated by pdoc3)
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ cli.html
    ‚îú‚îÄ‚îÄ grammar.html
    ‚îú‚îÄ‚îÄ first_follow.html
    ‚îú‚îÄ‚îÄ ll1.html
    ‚îú‚îÄ‚îÄ slr1.html
    ‚îî‚îÄ‚îÄ utils.html
```

## üê´ OCaml Documentation

### Generate OCaml Docs Only

```bash
./generate_ocaml_docs.sh
```

### What's Included

- **Module signatures** (.mli files) with all type definitions
- **Function documentation** with parameter types and descriptions
- **Type definitions** for symbols, grammars, and parsers
- **Cross-references** between modules
- **Index pages** for types, values, and modules

### Tools Used

- **ocamldoc** - OCaml's built-in documentation generator
- Reads special comments from `.mli` interface files
- Generates clean, navigable HTML

### Comment Format

OCaml documentation uses special comments:

```ocaml
(** Module description *)

(** Function description
    @param arg1 Description of arg1
    @return Description of return value *)
val my_function : arg1 -> return_type
```

## üêç Python Documentation

### Generate Python Docs Only

```bash
cd python
./generate_docs.sh
```

### What's Included

- **Module documentation** from module docstrings
- **Class documentation** with all methods
- **Function signatures** with type hints
- **Parameter descriptions** from docstrings
- **Examples** embedded in docstrings
- **Source code links** to see implementations

### Tools Used

- **pdoc3** - Modern Python documentation generator
- Reads docstrings and type hints
- Generates responsive, searchable HTML

### Docstring Format

Python documentation uses docstrings:

```python
"""
Module description.

More details about the module.
"""

def my_function(arg1: str) -> bool:
    """
    Function description.

    Args:
        arg1: Description of arg1

    Returns:
        Description of return value

    Examples:
        >>> my_function("test")
        True
    """
    pass
```

## üîß Installation Requirements

### Python Documentation

```bash
# Install pdoc3
pip install pdoc3

# Or from requirements file
pip install -r python/requirements-docs.txt
```

### OCaml Documentation

```bash
# ocamldoc comes with OCaml
# But for best results, install odoc:
opam install odoc
```

## üìñ Documentation Features

### Python Docs Features

‚úÖ **Type Hints** - Full type annotations visible
‚úÖ **Search** - Built-in search functionality
‚úÖ **Mobile-Friendly** - Responsive design
‚úÖ **Source Links** - Jump to source code
‚úÖ **Examples** - Code examples in docstrings
‚úÖ **Inheritance** - Shows class hierarchies

### OCaml Docs Features

‚úÖ **Type Signatures** - Complete type information
‚úÖ **Module Interfaces** - Clear API contracts
‚úÖ **Cross-References** - Links between modules
‚úÖ **Indexes** - By type, value, module
‚úÖ **Clean HTML** - Professional appearance

## üé® Customization

### Python Docs

You can customize pdoc3 output:

```bash
# Custom CSS
pdoc3 --html --config show_source_code=False src

# Different template
pdoc3 --html --template-dir ./templates src
```

### OCaml Docs

Customize ocamldoc:

```bash
# Custom CSS
ocamldoc -html -css-style custom.css -d docs/ocaml *.mli
```

## üìù Best Practices

### Writing Good Documentation

**Python:**
```python
def compute_first_sets(grammar: Grammar) -> Dict[Symbol, Set[Symbol]]:
    """
    Compute FIRST sets for all symbols in the grammar.

    FIRST(X) = set of terminals that can begin strings derived from X

    Algorithm:
    1. For terminals: FIRST(a) = {a}
    2. For nonterminals: Use fixed-point iteration
       ...

    Args:
        grammar: The grammar to analyze

    Returns:
        Dictionary mapping symbols to their FIRST sets

    Examples:
        For grammar:
            S ‚Üí aB | c
            B ‚Üí b | Œµ
        Results:
            FIRST(S) = {a, c}
            FIRST(B) = {b, Œµ}
    """
```

**OCaml:**
```ocaml
(** Compute FIRST sets for all symbols in the grammar.

    FIRST(X) = set of terminals that can begin strings derived from X

    Algorithm:
    1. For terminals: FIRST(a) = {a}
    2. For nonterminals: Use fixed-point iteration
       ...

    @param grammar The grammar to analyze
    @return Dictionary mapping symbols to their FIRST sets *)
val compute_first_sets : Grammar.t -> first_sets
```

### Tips

1. **Explain algorithms** - Don't just describe what, explain how and why
2. **Provide examples** - Show concrete usage
3. **Document edge cases** - Mention special behaviors
4. **Use type hints** - Makes Python docs much better
5. **Keep it updated** - Regenerate after code changes

## üîÑ Workflow

### Development Cycle

1. **Write code** with comprehensive comments
2. **Generate docs** with `./generate_all_docs.sh`
3. **Review docs** in browser
4. **Improve comments** if needed
5. **Regenerate** and repeat

### Before Committing

```bash
# Regenerate documentation
./generate_all_docs.sh

# Check that docs were generated
ls docs/ocaml/index.html
ls docs/python/index.html

# Commit both code and docs
git add docs/ *.sh python/*.sh
git commit -m "Update documentation"
```

## üåê Publishing Documentation

### GitHub Pages

1. Push docs to repository:
```bash
git add docs/
git commit -m "Add generated documentation"
git push
```

2. Enable GitHub Pages:
   - Go to repository Settings
   - Pages section
   - Source: Deploy from branch
   - Branch: main, folder: /docs
   - Save

3. Access at: `https://youngermaster.github.io/Context-Free-Grammar-Parser/`

### Alternative: ReadTheDocs

For more advanced hosting with versioning and search.

## üìä Statistics

### Documentation Coverage

**Python:**
- 7 modules, all documented
- 30+ functions with full docstrings
- 10+ classes with method docs
- Type hints: 100%

**OCaml:**
- 6 modules with .mli files
- 50+ functions documented
- Complete type signatures
- Cross-references: Yes

## üêõ Troubleshooting

### Python Docs Not Generating

```bash
# Check pdoc3 installation
pip install --upgrade pdoc3

# Try manual generation
pdoc3 --html --output-dir docs/python src
```

### OCaml Docs Missing

```bash
# Ensure .mli files exist
ls *.mli

# Try manual generation
ocamldoc -html -d docs/ocaml *.mli *.ml
```

### Links Broken

- Use relative paths in documentation
- Ensure all files generated
- Check that index.html exists

## üìö Additional Resources

- [pdoc3 Documentation](https://pdoc3.github.io/pdoc/)
- [OCamldoc Manual](https://ocaml.org/manual/ocamldoc.html)
- [Python Docstring Conventions (PEP 257)](https://peps.python.org/pep-0257/)
- [OCaml Documentation Guidelines](https://ocaml.org/docs/guidelines)

## üéì Learning from the Docs

The generated documentation is an excellent learning resource:

1. **Start with Python docs** - More beginner-friendly
2. **Read module overviews** - Understand responsibilities
3. **Check function signatures** - See types and parameters
4. **Read examples** - Learn usage patterns
5. **Compare implementations** - Python vs OCaml

## ‚úÖ Checklist

Before releasing:

- [ ] All modules have documentation
- [ ] Functions have docstrings/comments
- [ ] Examples are included
- [ ] Type hints/signatures are complete
- [ ] Documentation generates without errors
- [ ] Links work correctly
- [ ] index.html displays properly

---

**Documentation is code!** Keep it updated, clear, and comprehensive.

Generated with ‚ù§Ô∏è using pdoc3 and ocamldoc.
